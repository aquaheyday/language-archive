# 🌐 HTTP/1.1 vs HTTP/2 vs HTTP/3

**HTTP는 웹에서 클라이언트와 서버가 데이터를 주고받는 프로토콜입니다.**  
버전이 업그레이드되면서 **속도, 보안, 효율성**이 크게 향상되었습니다.

---

## 1️⃣ HTTP 버전별 요약 비교

| 항목         | HTTP/1.1              | HTTP/2                     | HTTP/3                       |
|--------------|------------------------|-----------------------------|-------------------------------|
| 도입 시기     | 1999                   | 2015                        | 2022 (초안 기준)              |
| 전송 방식     | 텍스트 기반            | 바이너리 프레이밍          | UDP 기반 + QUIC 프로토콜     |
| 연결 방식     | TCP                   | TCP                        | UDP + TLS 1.3                |
| 다중 처리     | ❌ 불가능 (순차적 처리) | ✅ 가능 (Multiplexing)      | ✅ 더 빠른 Multiplexing       |
| 헤더 압축     | ❌ 없음                | ✅ HPACK                    | ✅ QPACK                      |
| 연결 재사용   | 제한적 (Keep-Alive)   | ✅ 가능                     | ✅ 가능 + 빠른 재연결         |
| 보안 (TLS)    | 선택적 (HTTPS만 사용) | 선택적                     | ✅ 기본 적용 (항상 TLS 1.3)  |

---

## 2️⃣ HTTP/1.1의 특징

- **텍스트 기반 프로토콜**로 사람도 읽기 쉬움
- **요청/응답이 순차적으로 처리됨** → 느린 성능
- `Keep-Alive`로 같은 연결 재사용 가능하지만 **제한적**
- **헤더가 크고 중복됨** → 대역폭 낭비
- 다수의 리소스를 로딩할 때 **병목 현상 발생**

---

## 3️⃣ HTTP/2의 특징

- **이진(binary) 프레이밍 계층 도입**
- 하나의 연결에서 **다중 스트림(Multiplexing)** 지원
- **헤더 압축 (HPACK)** → 속도 향상 및 트래픽 절감
- 서버가 클라이언트보다 먼저 리소스를 전송하는 **Server Push** 기능 포함
- 기존 TCP 위에서 작동 → **HOL 블로킹 문제 존재**

---

## 4️⃣ HTTP/3의 특징

> **기존 TCP를 버리고 UDP 기반의 QUIC 프로토콜을 사용**

- **지연시간 최소화**를 위한 혁신적인 설계
- **TLS 1.3 내장** → 보안 기본 적용
- **0-RTT 연결** 지원 → 재접속 시 더 빠름
- **패킷 손실에도 스트림 간 간섭 없음** (TCP의 HOL 문제 해결)
- 유튜브, 구글, 페이스북 등 **대형 서비스에서 실사용 중**

---

## 5️⃣ HOL 블로킹 문제란?

> Head-of-Line Blocking:  
> **앞선 패킷이 지연되면 뒤의 모든 요청도 지연되는 현상**

- HTTP/1.1: 하나의 요청이 끝나야 다음 요청 가능
- HTTP/2: 스트림은 다중화됐지만, **기반은 여전히 TCP** → 여전히 HOL 문제 있음
- HTTP/3: **UDP + QUIC으로 해결**, 각 스트림이 독립적으로 처리됨

---

## 6️⃣ 어떤 걸 사용해야 할까?

| 상황                     | 추천 HTTP 버전 |
|--------------------------|----------------|
| 구형 시스템              | HTTP/1.1       |
| 대부분의 최신 웹사이트   | HTTP/2         |
| 최신 고속 서비스(영상 등) | HTTP/3         |

> 대부분 브라우저는 자동으로 가장 높은 버전을 협상하여 사용합니다

---

## 🎯 정리 요약

✔ **HTTP/1.1**: 순차 처리, 느림, 텍스트 기반  
✔ **HTTP/2**: 다중화, 헤더 압축, 여전히 TCP 기반  
✔ **HTTP/3**: UDP + QUIC 기반, HOL 차단, 보안 기본 탑재  
✔ 버전이 올라갈수록 **속도, 효율, 보안 향상**  
✔ 최신 브라우저와 서버는 대부분 **HTTP/2 또는 HTTP/3 자동 사용**
