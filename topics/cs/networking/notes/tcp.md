# 🔗 TCP의 특징 & 흐름제어

**TCP(Transmission Control Protocol)는 신뢰성 있는 연결지향형 전송 프로토콜입니다.**  
데이터 손실 없이 정확하게 전달하기 위해 흐름제어, 오류제어, 혼잡제어 등의 메커니즘을 사용합니다.

---

## 1️⃣ TCP란?

| 항목         | 설명 |
|--------------|------|
| 유형         | 연결 지향형 프로토콜 |
| 통신 방식     | 양방향 통신 (Full-Duplex) |
| 데이터 단위   | 바이트 스트림 |
| 신뢰성       | 높은 신뢰성 제공 (재전송, 순서 보장 등) |
| 주요 기능     | 연결 설정, 흐름제어, 오류제어, 혼잡제어 |
| 동작 계층     | OSI 4계층 (전송 계층) |

---

## 2️⃣ TCP의 주요 특징

| 특징          | 설명 |
|---------------|------|
| 연결 지향     | 데이터 전송 전 **3-way Handshake**로 연결 설정 |
| 순서 보장     | **시퀀스 번호(Sequence Number)** 를 통해 데이터 순서 보장 |
| 오류 검출     | **체크섬(Checksum)** 으로 오류 감지 |
| 재전송 기능   | 손실 시 **ACK 미수신 → 재전송** |
| 흐름제어     | 수신자의 수신 속도에 맞춰 전송량 조절 |
| 혼잡제어     | 네트워크 혼잡 시 전송 속도 조절 |

---

## 3️⃣ TCP 3-Way Handshake

> 연결을 맺기 위한 세 단계 절차

1. 클라이언트 → 서버 : `SYN` 전송 (연결 요청)
2. 서버 → 클라이언트 : `SYN + ACK` 응답
3. 클라이언트 → 서버 : `ACK` 전송 → 연결 완료

---

## 4️⃣ 흐름제어 (Flow Control)

> **수신자의 처리 능력을 초과하지 않도록** 송신자가 데이터 전송량을 조절하는 기능

### 🔧 사용 메커니즘: **슬라이딩 윈도우(Sliding Window)**

- **윈도우 크기(Window Size)**: 수신자가 한 번에 받을 수 있는 데이터 양
- 송신자는 이 크기만큼만 데이터 전송 가능
- 수신자는 **ACK 응답 시 윈도우 크기**를 갱신해 전달
- 윈도우 크기가 0이면 송신자는 전송 일시 중지

#### 예시 흐름

```
수신자: 나 지금 5KB까지만 받을 수 있어 (윈도우 크기: 5KB)
송신자: 오케이! 그럼 5KB만 보내고 기다릴게
```

---

## 5️⃣ TCP vs UDP

| 항목       | TCP                          | UDP |
|------------|-------------------------------|-----|
| 연결 방식  | 연결 지향 (3-way handshake)   | 비연결 지향 |
| 신뢰성     | 신뢰성 있음 (순서/재전송 보장) | 신뢰성 없음 |
| 속도       | 느림 (과정 많음)              | 빠름 (단순 전송) |
| 사용 예    | 웹, 이메일, 파일 전송 등       | 스트리밍, VoIP, DNS 등 |

---

## 🎯 정리 요약

✔ TCP는 **신뢰성 있는 연결 지향형 전송 프로토콜**  
✔ **3-way Handshake**로 연결 설정, **ACK & 시퀀스 번호**로 순서와 오류 제어  
✔ **흐름제어는 수신자의 수용량에 맞춰 송신량 조절**  
✔ 슬라이딩 윈도우를 통해 효율적으로 데이터 전송  
✔ UDP에 비해 느리지만 안정적인 통신 보장
