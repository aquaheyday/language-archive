# ⚔️ 멀티프로세싱 vs 멀티스레딩

**멀티프로세싱(Multiprocessing)** 과 **멀티스레딩(Multithreading)** 은 둘 다 성능 향상과 병렬 처리 목적이지만, 구조와 방식, 장단점에 큰 차이가 있습니다.  
멀티코어 CPU 환경에서 어느 쪽을 선택하느냐는 작업의 성격에 따라 달라집니다.

---

## 1️⃣ 개념 비교

| 항목             | 멀티프로세싱                         | 멀티스레딩                          |
|------------------|--------------------------------------|-------------------------------------|
| 정의             | 여러 개의 **프로세스**를 동시에 실행 | 하나의 프로세스 내에서 **여러 스레드** 실행 |
| 구조             | 각 프로세스는 **완전 독립된 메모리 공간** 사용 | 스레드는 **메모리 공유** (힙, 데이터 등) |
| 통신 방식        | IPC(파이프, 소켓, 공유 메모리 등) 필요 | 메모리 공유로 빠르게 가능 |
| 실행 효율        | 안정성 ↑, 전환 비용 ↑                | 자원 효율 ↑, 충돌 위험 ↑ |

---

## 2️⃣ 특징 요약

### 멀티프로세싱

- **안정성**: 하나의 프로세스가 죽어도 나머지 영향 없음
- **메모리 사용량**: 프로세스별 별도 메모리 → **많이 사용**
- **컨텍스트 스위칭 비용**: **많다**
- **예시**: 웹 서버에서 워커 프로세스를 여러 개 돌리는 구조

### 멀티스레딩

- **속도/효율**: 메모리 공유로 **전환 빠름**
- **동기화 필요**: 공유 자원 접근 시 **경쟁 조건 발생 가능**
- **디버깅 어려움**: 스레드 간 충돌 버그 추적이 까다로움
- **예시**: 게임 엔진, 웹 브라우저, 실시간 채팅 서버

---

## 3️⃣ 메모리 구조 차이

| 메모리 영역     | 멀티프로세싱 | 멀티스레딩 |
|------------------|---------------|-------------|
| Code (텍스트)    | 개별 복사      | 공유         |
| Data/Heap        | 개별 복사      | 공유         |
| Stack            | 개별           | 개별 (스레드별 스택 존재) |
| Register/Context | 개별           | 개별         |

---

## 4️⃣ 성능 & 안정성 비교

| 항목             | 멀티프로세싱   | 멀티스레딩   |
|------------------|----------------|--------------|
| 병렬 처리 능력    | 높음 (코어에 따라) | 높음 (스케줄러에 따라) |
| 메모리 효율성     | 낮음           | 높음         |
| 자원 공유         | 어렵다         | 용이         |
| 충돌 가능성       | 낮음           | 높음 (락 필요) |
| 에러 영향 범위    | 제한적         | 전체 프로세스에 영향 |

---

## 5️⃣ 사용 예시 비교

| 상황                         | 적합한 방식 |
|------------------------------|-------------|
| 웹 서버 워커 분리             | 멀티프로세싱 |
| 이미지 처리, 병렬 계산         | 멀티프로세싱 |
| 사용자 인터페이스 + 백그라운드 작업 | 멀티스레딩 |
| 실시간 게임 로직 처리         | 멀티스레딩 |

---

## 🎯 정리 요약

✔ **멀티프로세싱**: 안정성↑, 메모리↑, 전환비용↑ → 작업이 완전히 분리되어야 할 때 적합  
✔ **멀티스레딩**: 속도↑, 자원공유 쉬움, 동기화 필요 → 빠른 처리와 메모리 절약에 유리  
✔ 상황에 따라 두 방식을 **혼합해서 쓰는 경우도 많음**

