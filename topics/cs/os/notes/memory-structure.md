# 🧠 메모리 구조 개요

메모리는 **프로그램이 실행되는 동안 필요한 데이터를 저장하고 관리하는 공간**입니다.  
운영체제는 이 메모리를 효율적으로 관리하여 다중 프로그램 실행, 보호, 할당 등을 가능하게 합니다.  
**메모리 구조는 크게 물리적 구조와 논리적 구조(프로세스 관점)로 나뉩니다.**

---

## 1️⃣ 메모리의 주요 목적

| 목적               | 설명 |
|--------------------|------|
| 저장 공간 제공      | 실행 중인 프로그램, 데이터, 명령어 저장 |
| 자원 관리           | 프로세스 간 공간 분리 및 보호 |
| 빠른 접근 속도 보장 | CPU에 직접 전달할 수 있는 고속 메모리 |

---

## 2️⃣ 프로세스 관점의 메모리 구조 (논리적 구조)

프로세스가 메모리를 사용하는 구조는 다음과 같이 4가지 주요 영역으로 나뉩니다:

```text
┌────────────────────┐
│   Stack            │ ← 함수 호출, 지역 변수
├────────────────────┤
│   Heap             │ ← 동적 메모리 할당 (malloc 등)
├────────────────────┤
│   Data Segment     │ ← 전역 변수, static 변수
├────────────────────┤
│   Text Segment     │ ← 실행 코드 (명령어)
└────────────────────┘
```

### 설명

| 영역          | 설명 |
|---------------|------|
| **Text**      | 프로그램 코드 (읽기 전용, 공유 가능) |
| **Data**      | 초기화된 전역/정적 변수 |
| **BSS**       | 초기화되지 않은 전역/정적 변수 (Data의 하위 개념) |
| **Heap**      | 런타임 중 동적 메모리 할당 공간 |
| **Stack**     | 함수 호출 정보, 지역 변수, 리턴 주소 등 저장 |

---

## 3️⃣ 메모리의 물리적 구조

| 메모리 종류   | 설명 |
|----------------|------|
| **주기억장치 (RAM)** | 프로그램 실행 중 주로 사용, 휘발성 |
| **보조기억장치 (HDD/SSD)** | 비휘발성, 파일 저장용 |
| **캐시 메모리 (CPU 내부)** | CPU 연산 가속화용 초고속 메모리 |
| **레지스터 (CPU 내부)** | 가장 빠른 저장 공간, 소량의 데이터만 저장 가능 |

---

## 4️⃣ 주소 공간 개념

| 항목       | 설명 |
|------------|------|
| **물리 주소** | 실제 메모리(RAM) 상의 위치 |
| **논리 주소** | 프로세스 입장에서의 주소 (가상 주소) |
| **가상 주소 공간** | 프로세스가 사용하는 독립된 주소 공간, 실제 RAM과 매핑됨 |
| **MMU**     | 논리 주소 → 물리 주소 변환을 담당하는 하드웨어 장치 (Memory Management Unit) |

---

## 5️⃣ 메모리 관리 방식

| 방식             | 설명 |
|------------------|------|
| 고정 분할 할당     | 메모리를 고정된 크기로 나눠 할당 |
| 가변 분할 할당     | 필요한 만큼만 할당, 단편화 발생 가능 |
| 페이징 (Paging)   | 고정 크기 페이지 단위로 메모리 관리, 외부 단편화 해결 |
| 세그먼테이션      | 논리적 단위(함수, 배열 등)로 메모리 분할 |
| 가상 메모리       | 실제 메모리보다 큰 주소 공간 제공, **디스크와 스왑** 사용 |

---

## 🎯 요약 정리

✔ 메모리는 **프로그램 실행을 위한 핵심 자원**이며, 효율적 분할/할당/보호가 필요  
✔ 프로세스 관점에서는 **Text, Data, Heap, Stack** 영역으로 나뉘며, 각기 역할이 다름  
✔ 실제 하드웨어에서는 **물리 주소와 논리 주소**가 분리되어 가상 메모리 환경 제공  
✔ 페이징, 세그먼테이션, MMU 등을 통해 효율적인 메모리 사용이 가능함

