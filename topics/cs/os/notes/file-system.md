# ⚡ 파일 시스템(File System)

**파일 시스템은 데이터를 저장하고 조직화하는 방식으로,  
파일과 디렉토리를 관리해 OS가 저장장치를 효율적으로 활용할 수 있게 해줌.**

---

## 1️⃣ 파일 시스템이란?

| 항목       | 설명 |
|------------|------|
| **정의**       | 저장장치에 데이터를 구조화하여 저장하는 시스템 |
| **목적**       | 파일 단위로 데이터를 저장/관리하고 접근을 쉽게 함 |
| **위치/역할** | 하드디스크, SSD, USB 등 저장장치에 적용됨 |
| **특징**       | 계층적 구조(디렉토리), 메타데이터 관리, 접근 제어 |
| **동작 방식**   | 파일 이름 ↔ 저장 블록 매핑, 디렉토리 트리 구성 등 |

---

## 2️⃣ 파일 시스템의 필요성

- 저장장치는 단순한 바이트 덩어리 → 체계적인 관리가 필요  
- 사용자에게 **파일 단위의 추상화** 제공  
- 파일 이름, 크기, 위치, 권한 등 **메타데이터 관리**  
- **다중 사용자**, **보안**, **성능 최적화** 등 다양한 기능 제공

---

## 3️⃣ 주요 개념

| 개념       | 설명 |
|------------|------|
| **파일**     | 데이터의 논리적 단위 (이름, 경로, 권한 등 포함) |
| **디렉토리** | 파일을 그룹화하고 트리 구조로 관리 |
| **메타데이터** | 파일에 대한 정보 (생성일, 권한, 크기 등) |
| **블록**     | 데이터를 저장하는 기본 단위 |
| **inode**    | 유닉스 계열에서 파일 정보를 담는 구조체 (메타데이터 저장)

---

## 4️⃣ 동작 흐름

```
[ 사용자 파일 접근 요청 ]
      ↓
[ 디렉토리에서 파일 이름 검색 ]
      ↓
[ 해당 inode 번호 찾기 ]
      ↓
[ 데이터 블록 위치 확인 → 읽기/쓰기 처리 ]
```

- **inode**: 메타데이터 및 데이터 위치 정보 포함  
- **디렉토리**: 파일 이름과 inode를 연결하는 테이블 역할

---

## 5️⃣ 파일 시스템 종류 및 특징

| 파일 시스템 | 사용 환경     | 특징 |
|-------------|--------------|------|
| **FAT32**     | USB, SD카드 등 | 호환성 높음, 파일 크기 제한(4GB) |
| **NTFS**      | Windows      | 보안, 저널링 지원, 대용량 지원 |
| **ext4**      | Linux        | 성능 우수, 대용량 지원, 저널링 |
| **APFS**      | macOS        | SSD 최적화, 스냅샷, 암호화 지원 |

---

## 6️⃣ OS와 파일 시스템

- 운영체제는 파일 시스템을 통해 파일 관리  
- 시스템 호출 (open, read, write 등)로 파일 접근  
- OS는 사용자에게 **논리적 구조** 제공 (경로, 이름 등)

| 기능 | 설명 |
|------|------|
| **mount** | 파일 시스템을 특정 디렉토리에 연결 |
| **umount** | 연결된 파일 시스템을 해제 |
| **fsck** | 파일 시스템 검사 및 복구 |

---

## 7️⃣ 관련 용어 정리

| 용어         | 설명 |
|--------------|------|
| **inode**       | 파일 메타데이터와 데이터 블록 주소 저장 |
| **블록**         | 데이터 저장 최소 단위 |
| **저널링**       | 트랜잭션 기반으로 파일 변경 사항 기록 (복구 용이) |
| **마운트(Mount)** | 파일 시스템을 디렉토리에 연결하는 행위 |

---

## 8️⃣ 예시 명령어

### 📂 Linux에서 파일 시스템 확인 및 마운트 예시

```bash
# 파일 시스템 종류 확인
lsblk -f

# 특정 장치 마운트
sudo mount /dev/sdb1 /mnt/usb

# 마운트된 파일 시스템 해제
sudo umount /mnt/usb
```

---

## 🎯 정리 요약

✔ 파일 시스템은 **데이터를 저장/관리하는 구조적 체계**  
✔ 디렉토리/파일/블록/inode 등으로 구성  
✔ OS는 시스템 호출을 통해 사용자에게 파일 시스템 기능 제공  
✔ 다양한 유형 존재 (FAT32, NTFS, ext4 등), 용도에 따라 선택
