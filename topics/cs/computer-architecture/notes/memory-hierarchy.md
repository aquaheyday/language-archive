# 🧠 Computer Architecture - 메모리 계층 구조 (Memory Hierarchy)

**메모리 계층 구조(Memory Hierarchy)** 는 **CPU와 저장장치 사이에서 데이터 접근 속도, 용량, 비용 등을 고려해 구성한 계층적 메모리 구조**입니다.

> 빠른 속도의 소규모 메모리부터 느리지만 대용량의 메모리까지, 성능과 효율 사이의 균형 구조

---

## 1️⃣ 메모리 계층 구조란?

- CPU와 저장장치 간 **속도 차이 문제**를 해결하기 위한 구조  
- **CPU와 물리적,논리적으로 가까운 계층일수록 빠르고 비싸며, 용량이 작다**  
- 자주 사용하는 데이터를 **빠른 계층에 저장하여 전체 성능 향상**

---

## 2️⃣ 계층 구조의 주요 요소

| 계층               | 설명 |
|--------------------|------|
| **레지스터(Register)**       | CPU 내부에 존재, 가장 빠르고 용량이 가장 작음 |
| **캐시 메모리(Cache)**       | CPU와 메인 메모리 사이, 접근 속도 빠름 (L1, L2, L3 등 계층 존재) |
| **주기억장치(Main Memory)** | 일반적으로 DRAM, 실행 중인 프로그램과 데이터를 저장 |
| **보조기억장치(Storage)**   | SSD/HDD 등, 영구 저장 장치, 접근 속도 느림 |
| **원격 저장소(Storage)**     | 네트워크 기반 클라우드/서버 저장소 등, 가장 느리고 용량은 큼 |

---

## 3️⃣ 주요 개념

| 개념               | 설명 |
|--------------------|------|
| **지역성(Locality)**       | 프로그램 실행 중 **데이터 접근의 규칙성** (시간/공간적) |
| **히트(Hit)**             | 요청한 데이터가 빠른 계층(캐시 등)에 존재하는 경우 |
| **미스(Miss)**            | 요청한 데이터가 하위 계층에서만 존재하는 경우 |
| **계층 이동(Fetch/Replace)** | 상위 계층에 데이터 불러오거나 교체하는 과정 |

---

## 4️⃣ 지역성의 두 가지 유형

| 지역성 유형       | 설명 |
|------------------|------|
| **시간 지역성**     | 최근에 사용된 데이터가 곧 다시 사용될 가능성 ↑ |
| **공간 지역성**     | 근처 주소의 데이터도 함께 사용될 가능성 ↑ |

---

## 5️⃣ 메모리 계층의 특성 비교

| 항목           | 속도      | 용량      | 가격(단가) | 위치       |
|----------------|-----------|-----------|------------|------------|
| 레지스터       | 매우 빠름 | 매우 작음 | 매우 비쌈  | CPU 내부    |
| 캐시 메모리    | 빠름      | 작음      | 비쌈       | CPU 근처    |
| 주기억장치     | 중간      | 중간      | 중간       | 메인보드    |
| SSD/HDD        | 느림      | 큼        | 쌈         | 시스템 내장 |
| 클라우드 저장소 | 매우 느림 | 매우 큼 | 매우 쌈    | 외부 네트워크 |

---

## 6️⃣ 메모리 계층 설계의 목적

- **성능 최적화**: 자주 쓰이는 데이터는 빠른 계층에 저장  
- **비용 효율성 확보**: 전체 시스템 가격 상승을 방지  
- **에너지 효율성**: 고속 메모리는 에너지 소모도 큼  
- **데이터 접근 시간 최소화**: 캐시 미스율 최소화 전략 필요

---

## 🎯 정리 요약

✔ **메모리 계층 구조**는 빠른 메모리와 느린 메모리를 **속도·용량·비용에 따라 계층화한 구조**  
✔ **레지스터 → 캐시 → 메인 메모리 → 보조 기억장치 → 원격 저장소** 순으로 느려지고 커짐  
✔ **지역성(Locality)** 은 캐시 설계의 핵심 개념  
✔ 시스템 성능을 높이기 위한 **핵심적인 아키텍처 전략**
