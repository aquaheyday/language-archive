# 🔐 보안 코딩 (Secure Coding)

**보안 코딩**은 애플리케이션 개발 시 **보안 취약점을 최소화**하고, 해킹이나 데이터 유출을 방지하기 위해 **안전한 방식으로 코드를 작성**하는 개발 기법입니다.  
단순히 기능 구현을 넘어서, **보안까지 고려한 개발**이 핵심입니다.

> 보안 코딩 = 보안 원칙 + 안전한 코드 패턴 + 취약점 예방

---

## 1️⃣ 왜 보안 코딩이 필요한가?

| 항목               | 보안 코딩 미적용 시            | 보안 코딩 적용 시                      |
|--------------------|-------------------------------|----------------------------------------|
| 취약점 노출 위험    | 높음 (XSS, SQLi 등)            | 취약점 예방 가능                       |
| 유지보수 비용       | 보안 이슈로 인한 재작업 발생    | 초기부터 안전하게 설계되어 효율적 유지 |
| 신뢰성             | 사용자 신뢰 저하               | 보안 수준 향상, 브랜드 신뢰 증가       |
| 법적/정책 대응     | 개인정보 유출 시 제재 위험      | 보안 규정 및 정책 준수 가능            |

---

## 2️⃣ 주요 개념

| 용어                | 설명 |
|---------------------|------|
| 입력 검증 (Input Validation) | 사용자 입력을 신뢰하지 않고 필터링 |
| 인코딩 (Encoding)   | 출력 시 특수문자 무력화 (XSS 대응) |
| 인증/인가           | 로그인/권한 확인 및 제한 처리 |
| 암호화              | 민감 정보 암호화 저장 및 전송 |
| 세션/쿠키 보호      | Secure, HttpOnly 등 보안 설정 적용 |
| 예외 처리           | 에러 메시지 최소화, 시스템 노출 방지 |

---

## 3️⃣ 보안 코딩 흐름 (일반적인 개발 프로세스 내 보안 적용 방식)

1. **설계 단계**  
   - 보안 요구사항 정의  
   - 위협 모델링 (Threat Modeling)

2. **구현 단계**  
   - 안전한 API, 함수 사용  
   - 입력값 검증, 인코딩 처리

3. **테스트 단계**  
   - 정적 분석 (SAST), 동적 분석 (DAST)  
   - 보안 테스트 케이스 포함

4. **배포 이후**  
   - 취약점 모니터링 및 패치  
   - 로그 및 감사 기능 활성화

---

## 4️⃣ 보안 코딩 예시

### 1) SQL Injection 방지

```java
// ❌ 취약한 방식
String query = "SELECT * FROM users WHERE id = " + userInput;

// ✅ 안전한 방식 (Prepared Statement)
PreparedStatement stmt = conn.prepareStatement("SELECT * FROM users WHERE id = ?");
stmt.setString(1, userInput);
```

---

### 2) XSS 방지

```html
<!-- ❌ 사용자가 입력한 값 그대로 출력 -->
<div>{{ userInput }}</div>

<!-- ✅ HTML 인코딩 후 출력 -->
<div>{{ escapeHtml(userInput) }}</div>
```

---

## 5️⃣ 자주 사용하는 보안 관련 체크리스트

| 항목                 | 설명 |
|----------------------|------|
| 입력값 검증          | 화이트리스트 기반 필터링 권장 |
| 인증정보 암호화      | 비밀번호는 bcrypt 등으로 해시 |
| 쿠키 설정            | Secure, HttpOnly 적용 |
| 오류 메시지 최소화   | 내부 정보 노출 금지 |
| API 접근 통제        | 인증/권한 체크 반드시 서버에서 수행 |
| 외부 라이브러리 점검 | 보안 취약 버전 사용 금지 |

---

## 6️⃣ 보안 코딩 관련 가이드라인

| 가이드라인                | 설명 |
|---------------------------|------|
| OWASP Secure Coding Guide | 보안 코딩 모범 사례 |
| CERT Coding Standards     | 언어별 안전한 코드 작성법 |
| 각 언어별 공식 보안 가이드 | Java, Python, C/C++, .NET 등 |

---

## 🎯 정리

✔ 보안 코딩은 기능 구현만이 아닌 **보안까지 고려한 개발 방식**  
✔ 주요 위협(XSS, SQLi 등)을 방지하고 신뢰성 향상  
✔ 입력 검증, 출력 인코딩, 암호화, 권한 검증 등 필수 적용  
✔ SAST, DAST 등의 도구로 취약점 사전 제거  
✔ 각 언어/프레임워크에 맞는 보안 코딩 가이드라인 참고
