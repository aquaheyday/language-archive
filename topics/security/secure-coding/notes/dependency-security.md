# 🛡️ Secure Coding - 의존성 관리 & 취약점 점검

**의존성 관리**는 프로젝트에 포함된 외부 라이브러리의 버전과 업데이트를 체계적으로 유지하는 것이고,  
**취약점 점검**은 해당 라이브러리나 도구에 알려진 보안 문제가 있는지 확인하고 대응하는 과정입니다.

> 공격자는 자주 사용하는 오픈소스 라이브러리의 취약점을 통해 시스템을 공격합니다.

---

## 1️⃣ 왜 중요한가?

| 항목                   | 설명 |
|------------------------|------|
| 오픈소스 사용 증가       | 대부분의 앱이 외부 라이브러리에 의존함 |
| 취약점 전파 위험         | 하위 라이브러리에서 발생한 취약점이 앱 전체에 영향을 줌 |
| 자동화된 공격 확산       | 공개된 취약점은 봇에 의해 빠르게 악용됨 |
| 공급망(Supply Chain) 공격 | 배포 경로 자체에 악성 코드가 삽입될 수 있음 |

---

## 2️⃣ 의존성 보안 관리 전략

| 전략                           | 설명 |
|--------------------------------|------|
| 최신 안정 버전 유지             | 자동/정기 업데이트 시스템 적용 |
| 취약점 스캐닝 도구 사용         | Snyk, Dependabot, npm audit, osv-scanner 등 |
| 최소한의 라이브러리만 사용      | 불필요한 의존성 제거, 트리 쉐이킹 |
| 서드파티 코드 리뷰              | 외부 패키지의 신뢰도와 업데이트 주기 확인 |
| 잠재 위험 라이선스 확인        | 법적 이슈도 함께 고려 (GPL 등) |

---

## 3️⃣ 주요 점검 도구

| 도구         | 설명 |
|--------------|------|
| `npm audit`  | Node.js 프로젝트에서 취약점 검사 |
| `yarn audit` | Yarn 기반 프로젝트용 스캐너 |
| **Snyk**     | 다양한 언어 지원, GitHub 연동, 자동 패치 가능 |
| **Dependabot** | GitHub 내 자동 PR 생성으로 의존성 업데이트 |
| **osv-scanner** | Google의 오픈소스 취약점 스캐너 (Go, Rust, etc.) |
| `pip-audit`  | Python 패키지 취약점 점검 |
| `trivy`      | 컨테이너 이미지 + 코드 의존성 점검 통합 도구 |

---

## 4️⃣ 사용 예시

### 1) Node.js (npm)

```bash
npm install
npm audit fix      # 취약점 자동 수정
npm audit          # 전체 취약점 리포트 확인
```

---

### 2) Snyk

```bash
npx snyk test             # 현재 프로젝트 취약점 점검
npx snyk monitor          # 지속적 모니터링 등록
```

---

### 3) GitHub - Dependabot 활성화 (`.github/dependabot.yml`)

```yaml
version: 2
updates:
  - package-ecosystem: "npm"
    directory: "/"
    schedule:
      interval: "daily"
```

---

## 5️⃣ 체크리스트

- [ ] 의존성 설치 시 최신 버전인지 확인하고 있는가?
- [ ] `npm audit`, `pip-audit` 등의 도구로 정기 점검하고 있는가?
- [ ] 자동 업데이트 도구(GitHub Dependabot 등)를 도입했는가?
- [ ] 불필요하거나 오래된 라이브러리를 제거하고 있는가?
- [ ] 취약점 발견 시 빠르게 패치 가능한 프로세스가 있는가?
- [ ] 라이선스 리스크(예: GPL vs MIT 등)도 고려되고 있는가?

---

## 🎯 정리

✔ 오픈소스 의존성은 강력한 도구이자 **잠재적인 보안 위협**  
✔ 자동화된 스캐닝 도구와 PR 시스템으로 **지속적 관리가 핵심**  
✔ **사용하지 않는 라이브러리는 제거**, **필요한 라이브러리는 최신화**  
✔ 취약점은 빠르게 악용되므로, **"조기 감지 + 신속 대응" 체계 구축**이 가장 중요
