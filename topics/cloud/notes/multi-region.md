# 🧭 클라우드 아키텍처 - 멀티 리전 & 가용영역 설계

**멀티 리전(Multi-Region)** 과 **가용영역(Availability Zone)** 은 클라우드 인프라의 고가용성, 장애 복구, 글로벌 사용자 대응을 위한 핵심 설계 전략입니다.

---

## 1️⃣ 개념 정의

| 용어             | 설명 |
|------------------|------|
| **리전(Region)**     | 하나의 지리적 위치 (예: ap-northeast-2, us-east-1 등) |
| **가용영역(AZ)**    | 하나의 리전 내에 있는 물리적으로 분리된 데이터 센터 그룹 (보통 2~3개) |
| **멀티 리전**       | 서로 다른 리전에 인프라를 배치하여 지역 전체 장애에도 대비 |
| **멀티 AZ**        | 같은 리전 내 여러 AZ에 서비스를 분산 배치하여 부분 장애 대응 |

---

## 2️⃣ 구조 예시

```text
[리전 A]
  ├── AZ-1 (EC2, RDS)
  └── AZ-2 (EC2, RDS Replica)

[리전 B]
  ├── 백업 서버
  └── Read Replica / DR 구성

→ Route 53, Global Load Balancer로 트래픽 분산
```

---

## 3️⃣ 설계 원칙

| 전략                     | 설명 |
|--------------------------|------|
| **멀티 AZ 설계**           | 하나의 리전 내에서 고가용성 확보 (RDS Multi-AZ, ALB 등) |
| **멀티 리전 설계**         | 리전 단위 장애 대응, 글로벌 사용자를 위한 지연시간 감소 |
| **데이터 복제**            | RDS/Aurora Read Replica, DynamoDB Global Table 등 |
| **트래픽 분산**            | Route 53, Global Accelerator, Anycast 사용 |
| **장애 전환(Failover)**     | 헬스체크 + 자동 전환 로직 필수 구성 |

---

## 4️⃣ 장단점 비교

| 항목         | 멀티 AZ                       | 멀티 리전                      |
|--------------|-------------------------------|--------------------------------|
| 장애 대응     | AZ 장애 대응 가능               | 리전 전체 장애도 대응 가능         |
| 구축 난이도   | 비교적 쉬움                    | 복잡함 (데이터 동기화, 전환 등)    |
| 비용         | 중간                           | 높음 (리전 간 트래픽 요금 등)      |
| 성능         | 지역 내 빠른 응답              | 글로벌 사용자 대상 지연 감소 가능   |
| 사용 사례     | 일반적인 웹서비스, DB 고가용성     | 글로벌 서비스, 재해 복구(DR) 목적   |

---

## 5️⃣ 실전 활용 예시

| 시나리오                           | 설계 전략 |
|------------------------------------|-----------|
| AWS RDS 고가용성 구성                  | Multi-AZ 구성 (자동 복제 + 장애 전환) |
| 글로벌 사용자 대상 서비스 운영          | 각 대륙별로 리전 배치 + Geo DNS 설정 |
| 리전 장애 시 백업 인프라로 전환 필요       | 리전 간 복제 + 멀티 리전 페일오버 구성 |
| 글로벌 콘텐츠 다운로드 최적화            | 멀티 리전 S3 + CloudFront 사용 |

---

## 🎯 정리 요약

✔ **가용영역(AZ)**: 한 리전 내에 있는 독립된 데이터 센터 → 고가용성  
✔ **리전(Region)**: 전 세계에 위치한 클라우드 데이터 센터 묶음  
✔ **멀티 AZ**: 대부분의 클라우드 서비스에서 기본 구성  
✔ **멀티 리전**: 비용과 복잡도는 있지만 **재해 복구, 글로벌 확장**에 필수  
✔ **설계 시 고려사항**: 데이터 동기화, DNS 전환, 상태 복구 전략까지 포함해야 함

