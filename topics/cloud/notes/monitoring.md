# 🧭 클라우드 운영 - 모니터링 & 로깅

**모니터링(Monitoring)** 과 **로깅(Logging)** 은 시스템 상태를 파악하고 장애를 예방하거나 원인을 빠르게 분석하기 위한 **관찰성(Observability)** 의 핵심 구성 요소입니다.

---

## 1️⃣ 모니터링이란?

| 항목     | 설명 |
|----------|------|
| **정의** | 시스템의 성능 지표(CPU, 메모리, 응답 시간 등)를 실시간으로 수집/시각화/경고하는 활동 |
| **목적** | 성능 병목, 이상 감지, 리소스 부족, SLA 위반 등을 빠르게 탐지하여 대응 |

---

## 2️⃣ 로깅이란?

| 항목     | 설명 |
|----------|------|
| **정의** | 애플리케이션이나 시스템이 남기는 **이벤트/에러/행동 기록**을 저장하고 분석하는 활동 |
| **목적** | 에러 원인 추적, 사용자 행위 분석, 보안 감시 등  

---

## 3️⃣ 모니터링 vs 로깅 비교

| 항목           | 모니터링                     | 로깅                         |
|----------------|------------------------------|------------------------------|
| 데이터 종류     | 수치 지표 (메트릭)             | 텍스트 기반 로그               |
| 용도           | 실시간 상태 추적, 경고          | 상세한 문제 원인 파악            |
| 저장소         | 시계열 DB (TSDB)              | 로그 수집기 + 검색 엔진         |
| 시각화 방식     | 대시보드 (Grafana 등)          | 검색/필터/분석 도구             |
| 예시 도구       | Prometheus, CloudWatch         | ELK Stack, Loki, Cloud Logging |

---

## 4️⃣ 주요 클라우드 도구 예시

| 구분     | AWS                | GCP                     | 오픈소스 |
|----------|---------------------|--------------------------|----------|
| **모니터링** | CloudWatch           | Cloud Monitoring         | Prometheus |
| **시각화**   | CloudWatch Dashboards | Cloud Monitoring Charts | Grafana |
| **로깅**     | CloudWatch Logs       | Cloud Logging (ex. Stackdriver) | ELK, Loki |
| **경고/알림** | CloudWatch Alarms     | Alerting Policies        | Alertmanager |

---

## 5️⃣ 구성 요소

| 구성 요소        | 설명 |
|------------------|------|
| **에이전트/익스포터** | 시스템/앱 지표를 수집 (node-exporter 등) |
| **수집기**         | 로그/메트릭을 받아 저장하는 서버 (Prometheus, Fluentd 등) |
| **시각화 도구**     | 실시간 상태 확인용 대시보드 (Grafana 등) |
| **알림 시스템**     | 임계값 초과 시 Slack/Email/Alarm 전송 |
| **로그 분석기**     | 로그 검색 및 패턴 분석 (Kibana, Cloud Logging 등) |

---

## 6️⃣ 실전 활용 예시

| 상황                           | 사용 방법 |
|--------------------------------|-----------|
| EC2 CPU 사용률이 90% 초과         | CloudWatch + Alarm 설정 |
| API 응답 시간 추이 시각화         | Prometheus + Grafana 대시보드 |
| 서버 오류 로그 실시간 분석        | CloudWatch Logs 혹은 ELK 검색 |
| Pod 간 통신 문제 추적 (K8s)       | Loki + Promtail + Grafana Logs |
| 특정 에러 발생 시 슬랙 알림 전송   | 경고 룰 + SNS/Slack Webhook 연동 |

---

## 🎯 정리 요약

✔ **모니터링**은 실시간 시스템 상태 추적,  
✔ **로깅**은 에러/이벤트 상세 분석  
✔ 클라우드 환경에서는 **서버리스/마이크로서비스 환경까지 추적 가능**한 관찰성 설계가 중요

