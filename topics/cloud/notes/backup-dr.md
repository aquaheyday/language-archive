# 🧭 클라우드 아키텍처 - 백업 & 재해복구 (Disaster Recovery)

**백업(Backup)** 은 데이터를 안전하게 보관하기 위한 저장 전략이고,  
**재해복구(DR, Disaster Recovery)** 는 장애 발생 시 **신속하게 시스템을 복구**할 수 있는 아키텍처 전략입니다.  
두 개념은 **데이터 보존 + 서비스 연속성 확보**를 위한 필수 구성입니다.

---

## 1️⃣ 개념 정의

| 항목       | 설명 |
|------------|------|
| **백업**     | 데이터를 다른 위치에 복제하여 보관 (정기적 스냅샷, 복제 등) |
| **재해복구 (DR)** | 장애나 재해 발생 시, 시스템을 빠르게 복원하여 서비스 중단을 최소화하는 설계 전략 |
| **목표**     | 데이터 손실 최소화 + 다운타임 최소화 |

---

## 2️⃣ 핵심 지표: RTO / RPO

| 용어       | 의미 |
|------------|------|
| **RTO (Recovery Time Objective)** | 얼마나 빨리 서비스를 복구할 수 있나 (복구까지 걸리는 시간) |
| **RPO (Recovery Point Objective)** | 데이터 손실 허용 범위 (복구 시점 기준으로 얼마나 전 데이터까지 복구 가능한가) |

> 예:  
> - RTO = 1시간 → 1시간 내 복구  
> - RPO = 5분 → 5분 이내 데이터는 보존

---

## 3️⃣ 백업 전략 종류

| 전략              | 설명 |
|-------------------|------|
| **전체 백업**         | 모든 데이터를 통째로 백업 |
| **증분 백업**         | 이전 백업 이후 변경된 데이터만 백업 |
| **스냅샷**           | EBS, RDS 등의 시점 복사본 (Snapshot) |
| **Cross-Region 복제** | 다른 리전에 데이터 복사 (S3, RDS 등) |
| **Glacier 활용**      | 장기 보관용 저비용 스토리지에 보관 |

---

## 4️⃣ 재해복구(Disaster Recovery) 패턴

| 유형                  | 설명 | 복구 속도 | 비용 |
|-----------------------|------|------------|------|
| **백업 & 복원**           | 백업만 하고, 필요할 때 복원 | 느림 (수시간) | 낮음 |
| **Pilot Light**         | 최소 구성만 켜두고 복제 | 중간 | 중간 |
| **Warm Standby**        | 축소된 형태로 미리 준비, 트래픽 전환만 필요 | 빠름 | 중간~높음 |
| **Active-Active (Hot)** | 두 리전 모두 실시간 운영 | 매우 빠름 | 높음 |

---

## 5️⃣ 실전 예시

| 시나리오                          | 전략 |
|-----------------------------------|-------|
| EC2 인스턴스 손상 시 빠른 복구         | AMI 백업 + Auto Scaling 재생성 |
| RDS 장애 대비                      | Multi-AZ + Read Replica 구성 |
| 리전 전체 장애 발생 대비               | Cross-Region S3, DynamoDB Global Table |
| 장기 보관용 로그 저장                 | S3 → S3 Glacier Deep Archive 전환 |
| 운영/개발 환경 데이터 분리 + 보호       | 주기적 스냅샷 + 암호화 적용 |

---

## 🎯 정리 요약

✔ **백업**은 데이터를 보존하고, **재해복구(DR)** 는 서비스를 복구하는 전략  
✔ RTO(복구 시간), RPO(복구 시점)를 기준으로 설계  
✔ 비용/복잡도에 따라 다양한 DR 패턴 선택 가능  
✔ 스냅샷, 복제, 멀티리전 구성, 자동화된 복구 프로세스 설계가 핵심

