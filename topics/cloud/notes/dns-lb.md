# 🧭 클라우드 인프라 - DNS와 로드밸런서

클라우드 환경에서 **DNS(Domain Name System)** 와 **로드밸런서(Load Balancer)** 는 서비스의 **접근성, 안정성, 확장성**을 보장하는 핵심 컴포넌트입니다.

---

## 1️⃣ DNS란?

| 항목     | 설명 |
|----------|------|
| **정의** | 사용자가 입력한 도메인 주소(`example.com`)를 실제 서버 IP로 변환해주는 시스템 |
| **역할** | 사람이 기억하기 쉬운 도메인을 → 컴퓨터가 이해할 수 있는 IP 주소로 변환 |
| **클라우드 서비스 예시** | AWS Route 53, Google Cloud DNS, Azure DNS |

### 기능 요약

- 도메인 등록 및 관리
- A/AAAA, CNAME, MX 등 다양한 레코드 설정
- **헬스 체크** 및 지리 기반 라우팅 지원 (Route 53 등)

---

## 2️⃣ 로드밸런서란?

| 항목     | 설명 |
|----------|------|
| **정의** | 여러 서버(인스턴스)로 들어오는 트래픽을 **자동으로 분산**시켜주는 장치 |
| **목적** | 서버 과부하 방지, 고가용성 확보, 무중단 서비스 유지 |
| **클라우드 서비스 예시** | AWS ELB(ALB/NLB/CLB), GCP Load Balancer, Azure Load Balancer |

---

## 3️⃣ 로드밸런서 유형 (L4 vs L7)

| 구분        | L4 (네트워크 레벨)        | L7 (애플리케이션 레벨)           |
|-------------|----------------------------|----------------------------------|
| 작동 계층    | 전송 계층 (TCP/UDP)         | 애플리케이션 계층 (HTTP/HTTPS)   |
| 라우팅 방식  | 포트/IP 기반                | URL, 호스트, 쿠키 기반 라우팅     |
| 사용 예시    | 게임 서버, 실시간 서비스 등 | 웹 서버, API Gateway 등           |
| 대표 서비스 | AWS NLB                    | AWS ALB                         |

---

## 4️⃣ DNS + 로드밸런서 요청 흐름

```text
사용자 브라우저
    ↓ DNS 조회
Route 53 (DNS 서비스)
    ↓ IP 반환 (로드밸런서 주소)
로드밸런서 (ALB/NLB)
    ↓ 요청 분산
백엔드 EC2 / 컨테이너 서버
```

---

## 5️⃣ 실전 활용 예시

| 상황                                | 설명 |
|-------------------------------------|------|
| 여러 웹 서버에 트래픽 분산             | ALB 사용해 HTTP 트래픽 분산 |
| TCP 기반 게임 서버 부하 분산           | NLB 사용 |
| 서버 상태 이상 시 자동 헬스체크 & 우회 | 로드밸런서 헬스 체크 기능 |
| 다국적 사용자에게 빠른 응답 제공       | Route 53의 지리 기반 라우팅 활용 |

---

## 🎯 정리 요약

✔ **DNS**는 도메인 → IP로 변환,  
✔ **로드밸런서**는 다수 서버로 요청 분산  
✔ L4는 포트 기반(빠름), L7은 URL 기반(유연함)  
✔ 클라우드 환경에서는 Route 53 + ALB 조합이 일반적  

