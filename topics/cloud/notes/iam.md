# 🧭 클라우드 보안 - IAM (권한 관리)

**IAM(Identity and Access Management)** 은 클라우드 리소스에 접근하는 **사용자, 역할, 서비스의 인증과 권한을 제어**하는 시스템입니다.  
사용자가 언제, 어떤 리소스에, 어떤 방식으로 접근할 수 있는지를 관리할 수 있습니다.

---

## 1️⃣ IAM이란?

| 항목     | 설명 |
|----------|------|
| **정의** | 클라우드 리소스에 대한 **접근 권한을 제어**하는 시스템 (사용자/역할/정책 기반) |
| **목적** | 인증(누구냐)과 인가(뭘 할 수 있냐)를 분리하고, **최소 권한 원칙**을 기반으로 보안 강화 |
| **적용 대상** | 사용자, 그룹, 역할, 서비스, API 등 모든 액세스 주체 |

---

## 2️⃣ IAM 구성 요소

| 구성 요소     | 설명 |
|----------------|------|
| **사용자(User)** | 실제 계정. 콘솔/CLI/API 접근 가능 |
| **그룹(Group)** | 사용자 모음. 동일 권한 부여에 유용 |
| **역할(Role)** | 특정 권한을 가진 "임시 권한 집합". AWS 리소스도 역할을 부여받을 수 있음 |
| **정책(Policy)** | JSON 형식의 권한 정의. 어떤 리소스에 어떤 액션을 허용/거부할지 명시 |
| **자격 증명** | 비밀번호, 액세스 키, MFA 등 인증 수단 |

---

## 3️⃣ IAM 정책 예시 (정책 문서 구조)

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": "s3:ListBucket",
      "Resource": "arn:aws:s3:::my-bucket"
    }
  ]
}
```

- `Effect`: 허용(Allow) 또는 거부(Deny)
- `Action`: 수행 가능한 작업
- `Resource`: 대상 리소스 ARN

---

## 4️⃣ 실전 사용 예시

| 상황                          | IAM 적용 방식 |
|-------------------------------|----------------|
| S3 버킷을 읽기 전용으로 공유      | 읽기 전용 정책 부여 |
| EC2 인스턴스에서 S3 접근        | EC2에 역할(Role) 부여 |
| 특정 사용자에게 RDS 관리 허용    | `rds:*` 권한 정책 적용 |
| 외부 서비스(API)와 연동 시 역할 위임 | IAM Role + 신뢰 정책 사용 |

---

## 5️⃣ 클라우드별 IAM 서비스 이름

| 클라우드         | IAM 명칭 |
|------------------|----------|
| AWS              | IAM (Identity & Access Management) |
| Google Cloud     | IAM + Service Accounts |
| Microsoft Azure  | RBAC (Role-Based Access Control) |

---

## 6️⃣ IAM 보안 모범 사례

- ✅ **최소 권한 원칙 적용**: 꼭 필요한 권한만 부여  
- ✅ **정기적 권한 검토** 및 회수  
- ✅ **MFA(다중 인증)** 활성화  
- ✅ **사용자 대신 역할(Role) 사용** 권장  
- ✅ **로그 기록 활성화** (AWS CloudTrail 등)

---

## 🎯 정리 요약

✔ **IAM은 클라우드 리소스 접근 권한을 정의하고 제어하는 보안 시스템**  
✔ 사용자, 그룹, 역할, 정책의 조합으로 유연한 권한 설정 가능  
✔ 역할(Role)을 통해 **서비스 간 안전한 인증/인가** 수행  
✔ 보안 강화를 위해 **MFA, 최소 권한, 감사 로그**
