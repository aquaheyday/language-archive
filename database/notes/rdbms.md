# 🗂️ 관계형 데이터베이스(Relational Database)

**관계형 데이터베이스(RDB)** 는 데이터를 **테이블(행/열)** 구조로 저장하고  
**SQL**을 통해 데이터를 조회, 수정, 삭제, 관리할 수 있는 데이터베이스 시스템입니다.

---

## 1️⃣ 관계형 데이터베이스란?

데이터를 **관계(RELATION)** 를 기반으로 여러 테이블에 나누어 저장하고, **공통된 키**를 통해 연결하는 방식의 데이터베이스

✔ 구조적이고 정형화된 데이터에 적합  
✔ 데이터 중복을 줄이고, 무결성을 보장함

---

## 2️⃣ 주요 특징

| 특징 | 설명 |
|------|------|
| **테이블 기반** | 각 데이터는 테이블의 행(Row)으로 표현됨 |
| **관계(Relation)** | 테이블 간 외래키(Foreign Key)로 연결 |
| **정규화(Normalization)** | 중복 제거 및 데이터 일관성 유지 |
| **SQL 지원** | 표준 질의 언어(SQL)로 데이터 조작 |
| **ACID 트랜잭션** | 안정적 데이터 처리 보장 (원자성 등) |

---

## 3️⃣ 테이블(Table) 구조

```text
users
+----+--------+---------+
| id | name   | email   |
+----+--------+---------+
| 1  | Alice  | a@ex.com|
| 2  | Bob    | b@ex.com|
+----+--------+---------+
```

| 용어 | 설명 |
|------|------|
| **테이블** | 데이터 집합 (엑셀 표처럼 행/열 구조) |
| **행(Row)** | 한 사람, 하나의 상품 등 데이터 한 건 |
| **열(Column)** | 속성(이름, 가격 등) |
| **레코드(Record)** | 행 = 레코드 |

---

## 4️⃣ 주요 키(Key) 개념

| 키 종류 | 설명 |
|---------|------|
| **Primary Key** | 각 행을 유일하게 식별 (필수) |
| **Foreign Key** | 다른 테이블의 기본 키 참조 (관계 연결용) |
| **Composite Key** | 둘 이상의 컬럼으로 구성된 기본 키 |
| **Unique Key** | 중복되지 않는 값 (nullable 가능) |

---

## 5️⃣ 제약 조건(Constraints)

제약 조건은 데이터의 **무결성(일관성)** 을 유지하기 위한 규칙입니다.

| 제약 조건 | 설명 |
|-----------|------|
| `PRIMARY KEY` | 고유 + NULL 불가 |
| `NOT NULL` | NULL 불가 |
| `UNIQUE` | 중복 불가 |
| `DEFAULT` | 기본값 지정 |
| `CHECK` | 조건 만족 여부 확인 |
| `FOREIGN KEY` | 다른 테이블 참조 |

---

## 6️⃣ 정규화(Normalization)

데이터 중복을 줄이고, 데이터 무결성을 보장하기 위한 설계 방식

### 주요 단계

| 단계 | 설명 |
|------|------|
| 1NF | 컬럼은 원자값(더 쪼갤 수 없는 값)만 포함 |
| 2NF | 부분적 종속 제거 (기본 키 전체에 종속) |
| 3NF | 이행적 종속 제거 (비키 → 비키 종속 제거) |

✔ 과도한 정규화는 성능 저하 → 필요 시 **반정규화(Denormalization)** 도 고려  

---

## 7️⃣ 트랜잭션(Transaction)

**하나의 논리적 작업 단위**로서, 모두 성공하거나 모두 실패해야 함

### ACID 속성

| 속성 | 설명 |
|------|------|
| **A - Atomicity** | 원자성 (모두 실행 or 전부 취소) |
| **C - Consistency** | 일관성 (DB 규칙 위배되지 않음) |
| **I - Isolation** | 고립성 (동시 실행 간섭 없음) |
| **D - Durability** | 지속성 (성공 시 영구 저장됨) |

---

## 8️⃣ 관계형 데이터베이스 예시

| 제품명 | 설명 |
|--------|------|
| **MySQL** | 오픈소스, 가장 널리 사용됨 |
| **PostgreSQL** | 기능 강력, 오픈소스 |
| **Oracle** | 기업용 상용 DBMS |
| **SQL Server** | Microsoft의 RDBMS |
| **SQLite** | 경량 내장형 DB, 모바일/IoT용 |

---

## 9️⃣ 관계형 DB vs NoSQL 차이

| 항목 | 관계형 DB (RDBMS) | NoSQL |
|------|------------------|-------|
| 구조 | 테이블 기반 | 문서, 키-값, 그래프 등 |
| 스키마 | 고정 스키마 | 유연한 스키마 |
| 확장성 | 수직 확장 위주 | 수평 확장 용이 |
| 일관성 | 강한 일관성 | eventual consistency 가능 |
| 사용 예 | 전통적 앱, ERP, 금융 | 로그, 캐시, 대규모 분산 시스템 |

---

## 🔟 실무 팁

- 테이블 설계 시 **정규화 → 반정규화** 고려
- **PK, FK, 인덱스**는 성능과 무결성 유지에 필수
- `JOIN`은 많아질수록 성능 저하 → 조회 성능에 유의
- 데이터량이 많아질 경우 **인덱스 설계**, **파티셔닝**, **샤딩** 등을 고려

---

## 🎯 정리

| 개념 | 설명 |
|------|------|
| 관계형 DB | 테이블 기반 데이터 저장소 |
| 핵심 개념 | 테이블, 행/열, 키, 제약 조건 |
| 특징 | 정형 데이터, SQL 사용, 무결성 보장 |
| 키 | PK, FK, Unique 등 |
| 트랜잭션 | ACID 보장 |
| 정규화 | 중복 제거 + 일관성 유지 |
| 실무 사용 | 사용자, 게시글, 주문 등 대부분의 핵심 시스템에 적합 |
