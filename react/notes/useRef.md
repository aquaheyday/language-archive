# 🚀 React Refs 사용법

React에서 **Refs(레퍼런스)** 는 **DOM 요소에 직접 접근하거나, React 컴포넌트의 인스턴스를 저장하고 참조하는 방법**을 제공합니다.  
일반적으로 React에서는 상태를 사용하여 UI를 업데이트하지만, **특정한 경우에 직접 DOM을 조작할 필요가 있을 때 `Refs`를 활용**할 수 있습니다.

---

## 1️⃣ Refs란?

- React 컴포넌트에서 특정 DOM 요소를 직접 참조할 수 있도록 도와줌
- 클래스형 및 함수형 컴포넌트에서 사용 가능
- 렌더링과 무관한 값을 저장할 때도 활용 가능 (`useRef`)
- `document.querySelector()` 없이도 React에서 직접 요소 접근 가능

---

## 2️⃣ Refs를 사용하는 이유

- 포커스, 텍스트 선택 또는 미디어 재생 관리
- 애니메이션을 직접 제어해야 할 때
- 외부 라이브러리(예: Chart.js, D3.js)와 React를 통합할 때
- 이전 상태를 저장하거나, 불필요한 렌더링 없이 값 변경할 때

---

## 3️⃣ Refs 생성 및 사용법

### 1) `useRef()` 훅을 이용한 Refs 생성 (함수형 컴포넌트)
- `useRef()`를 사용하면 **렌더링과 관계없이 값을 저장할 수 있으며, DOM 요소에 접근 가능**
- **값이 변경되어도 컴포넌트가 리렌더링되지 않음**

---

### 2) `createRef()`를 이용한 Refs 생성 (클래스형 컴포넌트)
- 클래스형 컴포넌트에서는 `React.createRef()`를 사용하여 Refs를 생성할 수 있음

---

### 3) Refs를 활용한 주요 기능
- DOM 요소 접근 (`ref.current`)
- 렌더링과 무관한 변수 관리 (`useRef`)
- 컴포넌트 간의 참조 전달 (`forwardRef`)
- 기존 값을 유지 (`useRef`를 `useState` 대체 용도로 사용)

---

## 4️⃣ Refs 주요 활용 사례

#### 1. DOM 요소에 접근
- 특정 요소에 포커스를 주거나 스크롤 조작

#### 2. 이전 값 저장 (`useRef`)
- 상태를 변경하지 않으면서 이전 값을 유지

#### 3. `forwardRef`를 활용한 부모 → 자식 Refs 전달
- 부모 컴포넌트에서 자식의 DOM 요소를 직접 조작 가능  

#### 4. 외부 라이브러리와 통합
- `Chart.js`, `D3.js` 등과 같은 외부 라이브러리를 React와 함께 사용할 때  

---

## 5️⃣ `useRef` vs `useState` 차이점

| 비교 항목 | `useRef` | `useState` |
|------|-----------|-----------|
| 렌더링 영향 | 값이 변경되어도 렌더링되지 않음 | 값이 변경되면 렌더링 발생 |
| 값 유지 | 컴포넌트가 리렌더링되어도 값 유지 | 값 유지 가능하지만, 리렌더링 발생 |
| 사용 목적 | DOM 조작, 이전 값 저장, 이벤트 핸들링 | 상태 관리 및 UI 업데이트 |

#### ⚠Refs 사용 시 주의할 점
- DOM 직접 조작은 React의 선언적 UI 철학과 맞지 않으므로 최소한으로 사용해야 함  
- Refs를 남용하면 코드가 복잡해지고 유지보수가 어려울 수 있음  
- `useRef`는 값이 변경되어도 렌더링되지 않으므로, 상태 업데이트가 필요한 경우 `useState`를 사용해야 함  
---

## 🎯 정리
✔ Refs는 React에서 특정 DOM 요소나 값을 직접 참조할 때 사용  
✔ `useRef()` → 렌더링과 무관하게 값 유지 & DOM 요소 접근 가능  
✔ `createRef()` → 클래스형 컴포넌트에서 Refs 생성  
✔ `forwardRef()` → 부모 컴포넌트에서 자식 컴포넌트의 DOM 요소에 접근 가능  
✔ `useRef` vs `useState` → `useRef`는 렌더링 없이 값 유지, `useState`는 값 변경 시 리렌더링 발생  
